<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Create Map Sample | sphere Map</title>
        <style type="text/css">
            html {
                height: 100%;
            }
            body {
                margin: 0px;
                height: 100%;
            }
            #map {
                height: 100%;
            }
        </style>
        <script
            type="text/javascript"
            src="https://api.sphere.gistda.or.th/map/?key=A390BBB3092649CA820DB32296268670"
        ></script>
        <script>
            var map;
            function init() {
                map = new sphere.Map({
                    placeholder: document.getElementById("map"),
                });
                async function callerFun() {
                    const r = await sphere.Util.initLibrary("project");
                    const a = sphere.Util.project(
                        "+proj=utm +zone=47 +datum=WGS84 +units=m +no_defs",
                        [100, 13]
                    );
                    console.log(a);
                }

                callerFun();
                var geom = new sphere.Polygon([
                    { lat: 13.94, lon: 100.2 },
                    { lat: 13.94, lon: 100.45 },
                    { lat: 13.62, lon: 100.45 },
                    { lat: 13.62, lon: 100.2 },
                ]);

                console.log(geom.bound()); // {minLon: 100.2, minLat: 13.62, maxLon: 100.45, maxLat: 13.94}
                var geom = new sphere.Polygon([
                    { lat: 13.94, lon: 100.2 },
                    { lat: 13.94, lon: 100.45 },
                    { lat: 13.62, lon: 100.45 },
                    { lat: 13.62, lon: 100.2 },
                ]);

                let x2 = new sphere.Marker(geom.centroid());
                map.Overlays.add(x2);
                console.log(x2.toJSON());
            }
        </script>
    </head>
    <body onload="init();">
        <div id="map"></div>
    </body>
</html>
